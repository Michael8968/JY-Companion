## ADDED Requirements

### Requirement: 多学科答疑引擎

支持数学、物理、化学、语文、英语等主要学科，对文本和图片输入进行精准讲解。

#### Scenario: 数学题文本提问

- **WHEN** 学生输入"求函数 f(x) = x² - 4x + 3 的最小值"
- **THEN** 系统识别为数学学科，调用教育大模型生成完整推理过程
- **AND** 回答包含配方法步骤和最终结果，提供延伸知识关联（顶点式、判别式）
- **AND** 答题准确率 ≥88%

#### Scenario: 拍照提问（OCR）

- **WHEN** 学生拍摄纸质试卷上的题目照片并发送
- **THEN** OCR 服务提取题目文字（印刷体准确率 ≥98%，手写体 ≥88%）
- **AND** 识别结果经 LLM 理解后生成解答

### Requirement: 解题路径规划引导

运用思维链(CoT)技术引导学生逐步自主思考，而非直接给出答案。

#### Scenario: 分步引导模式

- **WHEN** 学生请求解题帮助
- **THEN** 系统先给出解题思路提示，不直接展示完整答案
- **AND** 学生可选择"再给点提示"逐步获取更多引导，或"直接看答案"获取完整解答

#### Scenario: 提示强度自定义

- **WHEN** 学生在设置中调整提示强度为"详细"
- **THEN** 系统在解题引导中提供更多中间步骤和知识点回顾
- **AND** 提示强度支持至少 3 级（简略/标准/详细）

### Requirement: 错因深度诊断

识别错误类型并定位知识薄弱点，生成可视化诊断报告。

#### Scenario: 错因分类识别

- **WHEN** 学生提交错题并标记为"做错了"
- **THEN** 系统分析错误类型（概念误解/思路偏差/审题失误/计算疏忽）
- **AND** 错因识别准确率 ≥85%
- **AND** 结合历史学习数据生成知识薄弱点列表

#### Scenario: 错题本管理

- **WHEN** 用户请求 `GET /api/v1/academic/error-book`
- **THEN** 返回按学科分类的错题列表，每题包含错因分析、关联知识点、掌握状态
- **AND** 掌握状态随复习次数动态更新（weak → improving → mastered）

### Requirement: 举一反三练习推荐

基于错题诊断动态推荐同类题型，难度自适应调整。

#### Scenario: 推荐变式题

- **WHEN** 学生完成一道错题的复习
- **THEN** 系统从题库中筛选 3-5 道同知识点变式题
- **AND** 难度根据当前掌握水平自适应调整
- **AND** 推荐相关性评分 ≥4.0/5
